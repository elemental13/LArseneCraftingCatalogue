@using LArseneCraftingCatalogue.Services
@model CraftingCalculatorModel

@inject CraftingService craftingService
@inject CraftingContext _db

<div style="width:100%; margin:0 auto;">
    <table id="manufactureTable" class="table table-striped table-bordered dt-responsive nowrap" width="100%" cellspacing="0">
        <thead>
            <tr>
                <th>Name</th>
                <th>Type</th>
                <th>Value</th>
                <th>Rarity</th>
                <th>Attunement</th>
                <th>Component Type</th>
                <th>MetaTag</th>
                <th>Component Name</th>
            </tr>
        </thead>
            <tr>
                <td>@craftingService.CraftableItem?.Name</td>
                <td>@craftingService.CraftableItem?.MagicItemType</td>
                <td>@craftingService.CraftableItem?.ItemValue</td>
                <td>@craftingService.CraftableItem?.Rarity</td>
                <td>@craftingService.CraftableItem?.Attunement</td>
                <td>@_db.MonsterComponents.ToList().Find(x => x.MonsterComponentId == (craftingService.CraftableItem?.MonsterComponentId ?? 0))?.Type</td>
                <td>@craftingService.CraftableItem?.MetaTag</td>
                <td>@_db.MonsterComponents.ToList().Find(x => x.MonsterComponentId == (craftingService.CraftableItem?.MonsterComponentId ?? 0))?.Name</td>
            </tr>
    </table>
</div>